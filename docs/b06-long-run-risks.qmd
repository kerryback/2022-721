---
title:  "Long-Run Risk"
author: <br>Kerry Back<br><br>BUSI 721, Fall 2022<br>JGSB, Rice University
output-dir: docs
execute:
  echo: false
  jupyter: python3
format: 
  revealjs:
    highlight-style: monokai
    code-fold: true
    slide-number: true
    preview-links: true
    self-contained: true
    transition: fade
    theme: [solarized, 721.scss]
    incremental: true
---

#

:::: {.columns}

::: {.column width=60}
<br>

A common belief is that the law of averages will rule in the long run, eliminating risk. 

<br>

It's true that the average outcome from a gamble should not be risky in the long run.
:::

::: {.column width=40}

<br>

<img src="images/dice.jpg" height=400>
:::

::::

. . .

But the gain or loss from gambling is
average gain per gamble $\times$ number of gambles.

## Betting on the stock market

- Based on history, the bet is definitely in our favor.  We have much better odds than in a casino.

- If we play for a long time, we will almost certainly come out ahead.

- But how far ahead is quite uncertain.

- Let's look at the best and worst periods in the past.

#

<p align=center> 
<a href="http://bbcx-investments.com/risk/best-worst"><img src="images/Rice_Owl.jpg" style="width:4in;"></a>
</p>


## Simulate returns

- Mean and std dev of U.S. market return 1970-2021 was 12.5% and 17.4%.
- Simulate 30-year compounded returns.

. . .

```{.p code-line-numbers="1-4|6|7"}
import numpy as np

mn = 0.125
sd = 0.174

r = np.random.normal(loc=mn, scale=sd, size=30)
comp_ret = np.prod(1+r)
```

## Repeat and evaluate the distribution

```{.p code-line-numbers="1|3-4|5"}
nsims = 1000

r = np.random.normal(loc=mn, scale=sd, size=30*nsims)
r = r.reshape((30,1000))
comp_ret = np.prod(1+r, axis=0)
```


## Simulating a Single History

Note the variation in compounded returns in different simulations

<p align=center> 
<a href="http://bbcx-investments.com/risk/returns"><img src="images/Rice_Owl.jpg" alt="HTML tutorial" style="width:4in;"></a>
</p>

## Simulating Multiple Histories

- The variation in outcomes is captured by the standard dev.
- Compounding $\Rightarrow$ positive skewness
- Mean outcome $>$ Median outcome
- Lower risk (for a given mean) $\Rightarrow$ higher median

#

<p align=center> 
<a href="http://bbcx-investments.com/risk/returns"><img src="images/Rice_Owl.jpg" alt="HTML tutorial" style="width:4in;"></a>
</p>

## Retirement Planning Simulation

Same exercise as in our first module

But generate a random return each month of the investment lifetime 

And simulate many lifetimes in this way


<p align=center>
<img src="images/RPS_b06.png" height=300 width=300> </p>

## BBCX Investment Library 

<p align=center> 
<a href="http://bbcx-investments.com/risk/returns"><img src="images/Rice_Owl.jpg" alt="HTML tutorial" style="width:4in;"></a>
</p>

#
If we want to forecast a constant return (not simulate) and base the return on history, should we use the historical arithmetic average or historical geometric average?

<p align=center>
<img src="images/b06_ws.png" height=300 width=300> </p>

. . .

Geometric average is better for forecasting future compounded returns.

Arithmetic average is better for forecasting future (arithmetic) average return.

#

<p align=center> 
<a href="http://bbcx-investments.com/risk/returns"><img src="images/Rice_Owl.jpg" alt="HTML tutorial" style="width:4in;"></a>
</p>